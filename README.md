# AstrBot 插件：决策轮盘

一个有趣且实用的插件，通过一张精美的**静态结果卡片**帮助用户做出决策。非常适合在群聊中决定共同活动，或帮助个人解决“选择困难症”。

## 功能特性

- **交互式选项收集**：使用 `/decide` 指令后，可通过对话添加多个选项。
- **精美结果卡片**：使用 HTML+CSS 渲染出清晰、美观的决策结果图，一目了然。
- **指令与交互结合**：既支持 `/decide 选项1 选项2 ...` 快速发起，也支持无参数的交互模式。
- **高度可配置**：可在插件配置页自定义会话超时时间和最大选项数。

## 安装与配置

1.  **下载插件**：将 `astrbot_plugin_decision_roulette` 整个文件夹放入 AstrBot 的 `data/plugins/` 目录下。
2.  **重启或重载**: 启动 AstrBot，或在 WebUI 的插件管理页面点击“重载所有插件”。AstrBot 会自动加载本插件。
3.  **检查依赖 (重要！)**:
    - 本插件的“结果卡片渲染”功能依赖于 AstrBot 核心自带的 `html_render` 服务。
    - 该服务需要 `playwright` 库来驱动一个无头浏览器进行渲染。
    - **请务必确认您的 AstrBot 运行环境中已经安装了 `playwright` 及其浏览器依赖**。如果尚未安装，或渲染时出现错误，请在您的 **AstrBot 虚拟环境或 Docker 容器的终端**中执行以下命令：
      ```bash
      # 首先安装 playwright 库（如果 AstrBot 环境未自带）
      pip install playwright
      # 然后安装浏览器核心
      playwright install
      ```
4.  **配置插件**：(可选) 在 AstrBot WebUI 的“插件”页面，找到“决策轮盘”，点击“配置”，您可以调整超时时间和最大选项数。

## 使用方法

### 方法一：交互式决策

1.  发送指令：`/decide`
2.  机器人会回复：“好的，请在XX秒内发送选项...”。
3.  您和群友可以开始发送选项，每个选项一条消息。例如：
    - `肯德基`
    - `麦当劳`
    - `沙县小吃`
4.  发送完所有选项后，发送 `好了` 或 `ok`。
5.  机器人会生成一张决策结果卡片，并高亮最终的选择。

### 方法二：快速决策

直接在指令后跟上所有选项，用空格隔开。

- `/decide 吃饭 睡觉 打豆豆`
- `/decide "玩原神" "看电影"` (如果选项本身包含空格，请使用引号)

机器人会直接根据您提供的选项生成决策结果卡片。

---
作者: luminestory
仓库: https://github.com/oyxning/astrbot_plugin_decision_roulette
版本: 1.0.0